{% extends 'quero_cultura/base.html' %}

	{% block content %}
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
	   integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
	   crossorigin=""/>
	<link rel="stylesheet" href="static/css/map.css"/>
	<title></title>
	<link rel="stylesheet" href="">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>

    <div  class = "map-container" >
  		<div  id = "map"></div >
  	</div>

</body>
<!-- Make sure you put this AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
crossorigin=""></script>
<script src="https://rawgithub.com/ismyrnow/Leaflet.groupedlayercontrol/master/src/leaflet.groupedlayercontrol.js"></script>

<script type = "text/javascript" src="static/js/map.js"></script>
	
	<script>
		function checkFilter(element){
			if(localStorage.getItem(element.name)){
				localStorage.setItem(element.name, false);
				switch(element.name){
					case "agents": markersAgent.clearLayers();
					case "events": markersEvent.clearLayers();
					case "spaces": markersSpace.clearLayers();
					case "projects": markersProject.clearLayers();
				}
			}else{
				localStorage.setItem(element.name, true);
				switch(element.name){
					case "agents": AgentMarkers("png", 1440);
					setInterval(function(){AgentMarkers()}, 15000);
					case "events": EventMarkers("png", 1440);
					setInterval(function(){EventMarkers()}, 15000);
					case "spaces": SpaceMarkers("png", 1440);
					setInterval(function(){spaceMarkers()}, 15000);
					case "projects": ProjectMarkers("png", 1440);
					setInterval(function(){ProjectMarkers()}, 15000);
				}
			}
		}
	</script>

	<script>
		function clearFilters(){
			localStorage.clear();
		}
	</script>

	<script>
		 	console.log("lixo");
		 	MarkersPoints();
			 setInterval(function(){MarkersPoints()}, 15000);
	</script>

	{% endblock %}
